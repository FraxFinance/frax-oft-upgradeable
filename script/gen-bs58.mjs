import { VersionedMessage, VersionedTransaction } from '@solana/web3.js'
import bs58 from 'bs58'

const txData = [
  {
    "point": {
      "eid": 30168,
      "address": "76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6"
    },
    "data": "0201080c3c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d0438690299cfd70e6e86436d5de31278a635fcf9d8184c670671f2b6939c9ba4922b51bbd0b9e9068d888e55f7e64c6b111509c99ecd3d3ea193025aae702148e7be77e16b7830c3f8a44c810ca87de56e032889c358ec75d4732bf7361862658acb2af3bb66c6947983775eb253df3d1c9818c2f958899b64a23b05a51bc8ed358f6e95aad76da514b6e1dcf11037e904dac3d375f525c9fbafcb19507b78907d8c18b619e429a1de67854bd455ee6643f568d6236cde8e9442a3abf029f016faae63064addff32f7e70f064aaeb7199486126df6abfa7e1b33d41a4673fab178685346d0fe3d84e659f4a928ca2bb1d97c6554c0b91f6725fcc9dfc18a6c0bdc804f58fbf07b658af67d1ecc4465d90bf3f279f66037dc225e34689b370848205871c0bf62f9dfd2ec1d9535e24a2750bd73635978cb21285076184ab3e8ef8142d18676874bfd0271b205215cfc3bf25816ac95cc530692e0b89985f057582a494a802060c01090504070403020a0b0807586c9e9aafd4623442bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c619575000001000000240000001027000093c69e71c758b9a308dd542e1c7f6edbf4b2342a6b74a0ce955ea97675f85528060c01090504070403020a0b0807a7016c9e9aafd4623442bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c6195750000020000007300000020000000000000000300000300000033cdb9fb56d28a2f028cbb36c254a7d54c92f0419b53e44ddcc0a5c373f854f25246d8507e84b6b25cc8122a05d4f5c8f945561d26d3df0fe8b9e88d8fb73ec6f3ea64a20ecedc882c28a0ba115a3a338ce2bb0d746d123c5b4abbdbead761f200000000",
    "description": "Setting config for ULN 7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH to [\n\t{\n\t\t\"eid\": 30101,\n\t\t\"configType\": 1,\n\t\t\"config\": {\n\t\t\t\"maxMessageSize\": 10000,\n\t\t\t\"executor\": \"AwrbHeCyniXaQhiJZkLhgWdUCteeWSGaSN1sTfLiY7xK\"\n\t\t}\n\t},\n\t{\n\t\t\"eid\": 30101,\n\t\t\"configType\": 2,\n\t\t\"config\": {\n\t\t\t\"confirmations\": \"32\",\n\t\t\t\"optionalDVNThreshold\": 0,\n\t\t\t\"requiredDVNs\": [\n\t\t\t\t\"4VDjp6XQaxoZf5RGwiPU9NR1EXSZn2TP4ATMmiSzLfhb\",\n\t\t\t\t\"6YB63FDuyYLt5gnJeiVmYRE4c6tFid5SrBZzMLQFfexm\",\n\t\t\t\t\"HR9NQKK1ynW9NzgdM37dU5CBtqRHTukmbMKS7qkwSkHX\"\n\t\t\t],\n\t\t\t\"optionalDVNs\": [],\n\t\t\t\"requiredDVNCount\": 3,\n\t\t\t\"optionalDVNCount\": 0\n\t\t}\n\t}\n]"
  },
  {
    "point": {
      "eid": 30168,
      "address": "76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6"
    },
    "data": "0201080c3c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d0438690775392e8cf474ee1e38b4a3ce493c7bcf1af97eaec9553ed69f805d82767b849d463d411821393bc831265f469ef75b58560e3467039e655ea3bcf213c4aecad16b7830c3f8a44c810ca87de56e032889c358ec75d4732bf7361862658acb2af25608cf65075dbb141996e875a41ea9d68eda43b81377015ffcdfa96604fa7123bb66c6947983775eb253df3d1c9818c2f958899b64a23b05a51bc8ed358f6e95aad76da514b6e1dcf11037e904dac3d375f525c9fbafcb19507b78907d8c18b619e429a1de67854bd455ee6643f568d6236cde8e9442a3abf029f016faae63064addff32f7e70f064aaeb7199486126df6abfa7e1b33d41a4673fab178685346d0fe3d84e659f4a928ca2bb1d97c6554c0b91f6725fcc9dfc18a6c0bdc804f5a558dec6aa74873ea9a42693053ff1a2ffa51912d8d34fc84ce2c71469677a474ff65ef88b274a70d1337f285afe7b4c2cec7b2d993fa4972a2b20d94220bfbf02070c010a060408040302050b0908586c9e9aafd4623442bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c612f76000001000000240000001027000093c69e71c758b9a308dd542e1c7f6edbf4b2342a6b74a0ce955ea97675f85528070c010a060408040302050b0908a7016c9e9aafd4623442bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c612f760000020000007300000020000000000000000300000300000033cdb9fb56d28a2f028cbb36c254a7d54c92f0419b53e44ddcc0a5c373f854f25246d8507e84b6b25cc8122a05d4f5c8f945561d26d3df0fe8b9e88d8fb73ec6f3ea64a20ecedc882c28a0ba115a3a338ce2bb0d746d123c5b4abbdbead761f200000000",
    "description": "Setting config for ULN 7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH to [\n\t{\n\t\t\"eid\": 30255,\n\t\t\"configType\": 1,\n\t\t\"config\": {\n\t\t\t\"maxMessageSize\": 10000,\n\t\t\t\"executor\": \"AwrbHeCyniXaQhiJZkLhgWdUCteeWSGaSN1sTfLiY7xK\"\n\t\t}\n\t},\n\t{\n\t\t\"eid\": 30255,\n\t\t\"configType\": 2,\n\t\t\"config\": {\n\t\t\t\"confirmations\": \"32\",\n\t\t\t\"optionalDVNThreshold\": 0,\n\t\t\t\"requiredDVNs\": [\n\t\t\t\t\"4VDjp6XQaxoZf5RGwiPU9NR1EXSZn2TP4ATMmiSzLfhb\",\n\t\t\t\t\"6YB63FDuyYLt5gnJeiVmYRE4c6tFid5SrBZzMLQFfexm\",\n\t\t\t\t\"HR9NQKK1ynW9NzgdM37dU5CBtqRHTukmbMKS7qkwSkHX\"\n\t\t\t],\n\t\t\t\"optionalDVNs\": [],\n\t\t\t\"requiredDVNCount\": 3,\n\t\t\t\"optionalDVNCount\": 0\n\t\t}\n\t}\n]"
  },
  {
    "point": {
      "eid": 30168,
      "address": "76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6"
    },
    "data": "0201080c3c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d0438690299cfd70e6e86436d5de31278a635fcf9d8184c670671f2b6939c9ba4922b51bbd0b9e9068d888e55f7e64c6b111509c99ecd3d3ea193025aae702148e7be77e16b7830c3f8a44c810ca87de56e032889c358ec75d4732bf7361862658acb2af3bb66c6947983775eb253df3d1c9818c2f958899b64a23b05a51bc8ed358f6e95aad76da514b6e1dcf11037e904dac3d375f525c9fbafcb19507b78907d8c18b619e429a1de67854bd455ee6643f568d6236cde8e9442a3abf029f016faae63064addff32f7e70f064aaeb7199486126df6abfa7e1b33d41a4673fab178685346d0fe3d84e659f4a928ca2bb1d97c6554c0b91f6725fcc9dfc18a6c0bdc804f58fbf07b658af67d1ecc4465d90bf3f279f66037dc225e34689b370848205871c0bf62f9dfd2ec1d9535e24a2750bd73635978cb21285076184ab3e8ef8142d18370e4506dd9db4b5129e5036d482611ed38ed681e2667897f4bb7f15b53d29d201060c01090504070403020a0b0807a7016c9e9aafd4623442bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c619575000003000000730000000f000000000000000300000300000033cdb9fb56d28a2f028cbb36c254a7d54c92f0419b53e44ddcc0a5c373f854f25246d8507e84b6b25cc8122a05d4f5c8f945561d26d3df0fe8b9e88d8fb73ec6f3ea64a20ecedc882c28a0ba115a3a338ce2bb0d746d123c5b4abbdbead761f200000000",
    "description": "Setting config for ULN 7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH to [\n\t{\n\t\t\"eid\": 30101,\n\t\t\"configType\": 3,\n\t\t\"config\": {\n\t\t\t\"confirmations\": \"15\",\n\t\t\t\"optionalDVNThreshold\": 0,\n\t\t\t\"requiredDVNs\": [\n\t\t\t\t\"4VDjp6XQaxoZf5RGwiPU9NR1EXSZn2TP4ATMmiSzLfhb\",\n\t\t\t\t\"6YB63FDuyYLt5gnJeiVmYRE4c6tFid5SrBZzMLQFfexm\",\n\t\t\t\t\"HR9NQKK1ynW9NzgdM37dU5CBtqRHTukmbMKS7qkwSkHX\"\n\t\t\t],\n\t\t\t\"optionalDVNs\": [],\n\t\t\t\"requiredDVNCount\": 3,\n\t\t\t\"optionalDVNCount\": 0\n\t\t}\n\t}\n]"
  },
  {
    "point": {
      "eid": 30168,
      "address": "76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6"
    },
    "data": "0201080c3c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d0438690775392e8cf474ee1e38b4a3ce493c7bcf1af97eaec9553ed69f805d82767b849d463d411821393bc831265f469ef75b58560e3467039e655ea3bcf213c4aecad16b7830c3f8a44c810ca87de56e032889c358ec75d4732bf7361862658acb2af25608cf65075dbb141996e875a41ea9d68eda43b81377015ffcdfa96604fa7123bb66c6947983775eb253df3d1c9818c2f958899b64a23b05a51bc8ed358f6e95aad76da514b6e1dcf11037e904dac3d375f525c9fbafcb19507b78907d8c18b619e429a1de67854bd455ee6643f568d6236cde8e9442a3abf029f016faae63064addff32f7e70f064aaeb7199486126df6abfa7e1b33d41a4673fab178685346d0fe3d84e659f4a928ca2bb1d97c6554c0b91f6725fcc9dfc18a6c0bdc804f5a558dec6aa74873ea9a42693053ff1a2ffa51912d8d34fc84ce2c71469677a47370e4506dd9db4b5129e5036d482611ed38ed681e2667897f4bb7f15b53d29d201070c010a060408040302050b0908a7016c9e9aafd4623442bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c612f76000003000000730000000f000000000000000300000300000033cdb9fb56d28a2f028cbb36c254a7d54c92f0419b53e44ddcc0a5c373f854f25246d8507e84b6b25cc8122a05d4f5c8f945561d26d3df0fe8b9e88d8fb73ec6f3ea64a20ecedc882c28a0ba115a3a338ce2bb0d746d123c5b4abbdbead761f200000000",
    "description": "Setting config for ULN 7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH to [\n\t{\n\t\t\"eid\": 30255,\n\t\t\"configType\": 3,\n\t\t\"config\": {\n\t\t\t\"confirmations\": \"15\",\n\t\t\t\"optionalDVNThreshold\": 0,\n\t\t\t\"requiredDVNs\": [\n\t\t\t\t\"4VDjp6XQaxoZf5RGwiPU9NR1EXSZn2TP4ATMmiSzLfhb\",\n\t\t\t\t\"6YB63FDuyYLt5gnJeiVmYRE4c6tFid5SrBZzMLQFfexm\",\n\t\t\t\t\"HR9NQKK1ynW9NzgdM37dU5CBtqRHTukmbMKS7qkwSkHX\"\n\t\t\t],\n\t\t\t\"optionalDVNs\": [],\n\t\t\t\"requiredDVNCount\": 3,\n\t\t\t\"optionalDVNCount\": 0\n\t\t}\n\t}\n]"
  },
  {
    "point": {
      "eid": 30168,
      "address": "DsJYjDF5yVSopMC15q9W42v833MhWGhCxcU2J39oS3wN"
    },
    "data": "020003063c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d0438690fd61c052057412cf15d894d79949e120c1ef4378c1def8b3d3497c572e2318130000000000000000000000000000000000000000000000000000000000000000bf2f1fc27286a43f25b05bd843a74a5478c4246343fa90c1fcb641a1caf46c61c15627c37a10f89f1c6fc7fedd83ebbdd82cbddd14df55674498ec9c1eae1b3130b9a07454850b4cb87c58a540dd6ff264db2046aa57bc9e430d9fa2497a875001050401020403414fbba8398b8c5d2f2f7600000216000000000301001101000000000000000000000000000138801600000000030100110100000000000000000000000000013880",
    "description": "Setting enforced options to [\n\t{\n\t\t\"eid\": 30255,\n\t\t\"option\": {\n\t\t\t\"msgType\": 1,\n\t\t\t\"options\": \"0x00030100110100000000000000000000000000013880\"\n\t\t}\n\t},\n\t{\n\t\t\"eid\": 30255,\n\t\t\"option\": {\n\t\t\t\"msgType\": 2,\n\t\t\t\"options\": \"0x00030100110100000000000000000000000000013880\"\n\t\t}\n\t}\n]"
  }
]

const transactionDataHex = '020103073c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d04386902b8e4682d3f411e70817a79aef8f6b969692305f6eeb8310604489de6381e18c3290f7cb566e3551d3b61847d7de7ecef11c221abd502eb1f4009e9b72f5926e5aad76da514b6e1dcf11037e904dac3d375f525c9fbafcb19507b78907d8c18bc15627c37a10f89f1c6fc7fedd83ebbdd82cbddd14df55674498ec9c1eae1b31d1dd86ac361b6252c406c281f3912ab13b924126c011b587278e8af0b08ef09bfc8d3cd68bf26fe6925aa5e92adcc00c6e58feb179cb13a22a1938a92a3dda760105070103040302060429377e57d99f4218c2013c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398'
const versionedMessage = VersionedMessage.deserialize(Buffer.from(transactionDataHex, 'hex'))

txData.forEach(_tx => {
  const tx = new VersionedTransaction(VersionedMessage.deserialize(Buffer.from(_tx.data, 'hex')));
  console.log(_tx.description)
  console.log(bs58.encode(Buffer.from(tx.serialize())))
});