import { VersionedMessage, VersionedTransaction } from '@solana/web3.js'
import bs58 from 'bs58'

const transactionDataHex = '020103073c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398d686ca6c5f329a8001280fc5746b81b4d7adbe81cd03aecb55686030d04386902b8e4682d3f411e70817a79aef8f6b969692305f6eeb8310604489de6381e18c3290f7cb566e3551d3b61847d7de7ecef11c221abd502eb1f4009e9b72f5926e5aad76da514b6e1dcf11037e904dac3d375f525c9fbafcb19507b78907d8c18bc15627c37a10f89f1c6fc7fedd83ebbdd82cbddd14df55674498ec9c1eae1b31d1dd86ac361b6252c406c281f3912ab13b924126c011b587278e8af0b08ef09bfc8d3cd68bf26fe6925aa5e92adcc00c6e58feb179cb13a22a1938a92a3dda760105070103040302060429377e57d99f4218c2013c1b094729102e0c095ee2417e5940ee4f1eab4763f6113fe75281ab74c62398'
const versionedMessage = VersionedMessage.deserialize(Buffer.from(transactionDataHex, 'hex'))

const tx = new VersionedTransaction(versionedMessage);

console.log(bs58.encode(Buffer.from(tx.serialize())))